# 操作系统



## 进程

### 概念

在**多道程序**环境下，允许多个程序并发执行，此时它们将失去封闭性，并具有间断性及**不可再现性**等特征。

为此引入了进程（Process）的概念，以便更好地描述和控制程序地并发执行，实现操作系统的**并发性和共享性**。

是系统进行**资源分配和调度**的基本单位。

### 进程间的通信

- 共享存储

- 消息传递

- 管道通信





## 线程

### 多线程模型

多对一模型：将多个用户线程被映射到到一个内核线程

- 优点：线程切换在用户空间完成，因此效率较高
- 缺点：当内核线程被阻塞时，所有的用户线程都会被阻塞，不利于并发执行。多线程不能并行运行在多处理机上。

一对一模型：每个用户线程被映射到一个内核线程

- 优点：当一个线程被阻塞后，运行其他线程继续执行，所以并发能力更强。
- 缺点：没创建一个用户线程就需要创建一个内核级线程，这样开销会比较到。

多对多模型：前两者的折中。

## 锁

### 死锁的预防

死锁的产生条件：

- 互斥 ： spooling
- 请求保持 : 静态分配
- 不可剥夺 
- 循环等待 : 顺序分配

### 死锁的避免

系统安全状态：银行家算法 ：Available、MAX、Need、Allocate

### 死锁的检测与接触

### 资源分配图

### 死锁解除：

- 资源剥夺： 导致任务进度丢失，更应防止饥饿
- 撤销进程法：强制撤销部分甚至全部死锁进程，回收所有资源。撤销应按照优先级顺序。
- 进程回退法：让一个或多个进程回退到足以避免死锁的地步，进程回退时自动释放资源。要求系统保持进程的历史信息，设置还原点。

### 